<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Papillon 1</title>
<style>
  :root{--btn:#ff3b30; --ink:#111; --mut:#444; --line:#e9eaee}
  *{box-sizing:border-box}
  body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;background:#000;color:#fff}
  /* HERO */
  .hero{position:relative;min-height:100vh;overflow:hidden}
  .hero img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
  .hero .enter{position:absolute;right:5vw;bottom:8vh;background:var(--btn);color:#fff;font-weight:700;border:none;border-radius:999px;padding:16px 28px;font-size:22px;cursor:pointer}
    .hero-copy {
    position: absolute; right: 7vw; top: 45vh;
    color: #fff; text-align: left; z-index: 2;
    pointer-events: none; /* 아래 버튼 클릭 막지 않게 */
    text-shadow: 0 2px 10px rgba(0,0,0,.35);
  }
  .hero-copy h1 {
    margin: 0; line-height: 1;
    font-size: clamp(36px, 8vw, 90px);
  }
  .hero-copy p {
    margin: 30px 0 0; line-height: 1.25;
    font-size: clamp(18px, 4vw, 60px);
	text-align: right;
  }
  /* MODAL */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.65);backdrop-filter:blur(3px);z-index:50}
  .modal.on{display:flex}
  .sheet{width:min(1000px,94vw);background:#fff;border:1px solid #e5e5e5;border-radius:18px;overflow:hidden;box-shadow:0 30px 120px rgba(0,0,0,.45)}
  .slide{position:relative;width:100%;aspect-ratio:16/9;display:none;background:#fff;color:var(--ink)}
  .slide.on{display:block}
  .s1-wrap{position:relative;height:100%;padding:28px 36px}
  .title1{position:absolute;left:7%;top:8%;margin:0;font-size:34px;font-weight:800}
  .bullets{position:absolute;left:7%;top:16%;font-size:26px;line-height:1.6}
  .layout{position:absolute;left:10%;bottom:16%;width:90%;max-width:800px}
  .keysRow{position:absolute;left:30%;bottom:10%;width:15%;max-width:300px}
  .symbols{position:absolute;left:20%;bottom:10%;width:50%;max-width:700px}
  .symbols2{position:absolute;left:20%;bottom:10%;width:60%;max-width:900px}
  .emoji{position:absolute;left:20%;bottom:10%;width:50%;max-width:700px}
  .stepno{position:absolute;left:7%;bottom:7%;color:#666;font-size:16px}
  .frame{height:100%;padding:28px 36px;display:grid;grid-template-columns:220px 1fr;grid-template-rows:auto auto 1fr;gap:8px 24px;position:relative}
  .keyIcon{grid-column:1;grid-row:1 / span 2;align-self:start;justify-self:start;width:170px;height:auto}
  .hd{grid-column:2;grid-row:1;align-self:end;margin:0;font-size:28px;font-weight:800}
  .sub{grid-column:2;grid-row:2;margin:6px 0 0 0;font-size:22px;font-weight:700;color:#000;line-height:1.8}
  .sub small{font-weight:600;color:#333}
  .rule{grid-column:1 / span 2;grid-row:3;align-self:start;margin-top:12px;border-top:1px solid var(--line);padding-top:18px;display:grid;grid-template-columns:46px 1fr;gap:16px}
  .check{width:46px;height:46px}
  .ruleText{font-size:20px;line-height:1.6;color:#111}
  .counter{position:absolute;left:7%;bottom:7%;color:#666;font-size:16px}
  .nav{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:12px 14px;border-top:1px solid #eee;background:#fafafa}
  .btn{border:1px solid #ddd;background:#fff;color:#111;padding:10px 14px;border-radius:10px;cursor:pointer}
  .btn[disabled]{opacity:.5;cursor:not-allowed}
  .dots{display:flex;gap:6px}
  .dot{width:7px;height:7px;border-radius:50%;background:#ddd}
  .dot.on{background:#111}
  .tryBig{display:inline-block;background:var(--btn);color:#fff;border:none;border-radius:999px;padding:16px 34px;font-size:22px;font-weight:800;box-shadow:0 10px 36px rgba(255,59,48,.28);cursor:pointer;position:absolute;right:36px;bottom:36px}
  /* DEMO minimal */
  #demo{display:none;background:#000;color:#fff;padding:28px 18px 64px}
  .demoWrap{max-width:1120px;margin:0 auto;position:relative}
  .demoTop{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
  .brand{font-size:36px;font-weight:900;letter-spacing:0.2px}
  .brand small{font-size:22px;font-weight:400;color:#d0d0d0;margin-left:10px}
  .surface{display:grid;grid-template-columns:1.25fr 220px;gap:24px;align-items:start}
  .padWrap{background:#1a2230;border:none;min-height:300px;padding:0;border-radius:6px;position:relative;}
  #pad{width:100%;min-height:300px;border:none;background:#1a2230;color:#fff;outline:none;padding:22px;margin:0;resize:none;font:28px/1.6 ui-monospace,Menlo,Consolas,monospace;border-radius:6px}

#emojiPanel{
  position:absolute; z-index:10;
  background:#fff; color:#000;
  border:1px solid #fff; border-radius:10px;
  padding:10px;
  box-shadow:0 8px 26px rgba(0,0,0,.2);
  overflow:hidden;         /* ✅ 스크롤바 제거 */
  max-width:560px;
}
#emojiGrid{
  display:grid;
  grid-template-columns:repeat(8, 44px); /* 셀을 약간 넓혀줌 */
  gap:6px;                               /* 셀 간격 확보 */
  justify-items:center;
  align-items:center;
}
#emojiPanel, #emojiPanel *{
  font-family:"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif;
}
#emojiPanel button{
  border:0; background:none; width:25px; height:25px;
  font-size:22px; line-height:1; cursor:pointer;
}



@media (max-width: 768px) {
  .hero .enter {
    padding: 12px 22px;
    font-size: 16px;
    bottom: 6vh;
    right: 6vw;
  }
  .sheet {
    width: 94vw;
    border-radius: 12px;
  }
  .frame {
    display: block;
    padding: 20px;
  }
  .keyIcon {
    width: 100px;
    display: block;
    margin: 0 auto 12px;
  }
  .hd {
    font-size: 22px;
    text-align: center;
  }
  .sub {
    font-size: 18px;
    text-align: center;
  }
  .ruleText {
    font-size: 16px;
  }
  .tryBig {
    position: static;
    display: block;
    margin: 32px auto 0;
    width: 100%;
    font-size: 18px;
    padding: 14px 0;
  }
  .demoTop {
    flex-direction: column;
    gap: 10px;
  }
  .brand {
    font-size: 26px;
  }
  .topKeys img {
    width: 48px;
    height: 48px;
  }
  .surface {
    grid-template-columns: 1fr;
  }
  .note {
    margin-top: 24px;
    max-width: 100%;
    text-align: center;
  }
  #pad {
    font-size: 20px;
    min-height: 320px;
  }
  #reviews h2 {
    font-size: 30px;
  }
  #reviews form {
    grid-template-columns: 1fr;
  }
}

</style>
<style>:root{--ui-font:"Noto Sans",system-ui,-apple-system,"Segoe UI",Arial,sans-serif}</style>
<script>
if (window.matchMedia('(max-width: 768px)').matches) {
  location.href = 'mobile.html';
}
</script>

</head>
<body>
<section class="hero">
  <img src="img/papillon.png" alt="background">
<div class="hero-copy">
  <p>Papa, maman ont l’AZERTY.</p>
  <h1>Nous, on a le Papillon.</h1>
</div>
  <button class="enter" id="heroBtn">En savoir plus</button>
</section>

<!-- Tutorial (all 6 slides, Try only on last) -->
<div class="modal" id="modal">
  <div class="sheet">

    <div class="slide on" data-step="0">
      <div class="s1-wrap">
        <h1 class="title1">L’accomplissement d’AZERTY</h1>
        <div class="bullets">
		  <div>•&nbsp;&nbsp;Accents en un seul toucher, chiffres en un seul toucher.</div>
          <div>•&nbsp;&nbsp;Symboles sans utiliser AltGr.</div>
        </div>
        <img class="layout" src="img/layout.png" alt="five triggers">
        <div class="stepno">1/10</div>
      </div>
    </div>


    <div class="slide" data-step="1">
      <div class="frame">
        <img class="keyIcon" src="img/comma.png" alt="comma trigger key">
        <h3 class="hd">Comment utiliser cette touche : <span style="color:red;">accent aigu</span></h3>
        <p class="sub"><span style="color:red;">,</span>+aeiouycnszrlwgkmp → áéíóúýćńśźŕĺẃǵḱḿṕ <small></small><br>
		        Sinon, elle reste une virgule.</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
Papillon 1 reconnaît ces lettres comme des accents lorsqu’elles suivent une virgule.<br>
Cependant, comme on met toujours un espace après la virgule en tant que signe de ponctuation, il n’y a jamais de conflit entre les deux cas.
          </div>
        </div>
        <div class="counter">2/10</div>
      </div>
    </div>

    <div class="slide" data-step="2">
      <div class="frame">
        <img class="keyIcon" src="img/dot.png" alt="two dots trigger key">
        <h3 class="hd">Comment utiliser cette touche : <span style="color:red;">accent tréma</span></h3>
        <p class="sub"><span style="color:red;">..</span>+aeiouy → äëïöüÿ <small></small><br>
		Sinon, elle reste deux points.</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            Quand vous tapez une ellipse avec deux points, vous ajoutez toujours une espace ensuite.<br>
Ainsi, ce schéma n’interfère jamais avec votre écriture normale.<br><br>
Le point et les deux-points ont échangé leur place dans Papillon 1.<br>
La saisie du point devient ainsi plus pratique.
          </div>
		  <img class="keysRow" src="img/dot_move.png" alt="five triggers">
        </div>
        <div class="counter">3/10</div>
      </div>
    </div>

    <div class="slide" data-step="3">
      <div class="frame">
        <img class="keyIcon" src="img/semicolon.png" alt="semicolon trigger key">
        <h3 class="hd">Comment utiliser cette touche : <span style="color:red;">accent circonflexe</span> / <span style="color:red;">accent cédille</span></h3>
        <p class="sub"><span style="color:red;">;</span>+aeiouy → âêîôûŷ <small></small><br>
		<span style="color:red;">;</span>+cstgklnrdh → çşţģķļņŗḑḩ <small></small><br>
		Sinon, elle reste un point-virgule.</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            On met toujours une espace après un point-virgule.<br>
Par conséquent, il n’y a jamais de conflit avec la saisie d’un accent circonflexe.<br><br>
(Dans certains langages de programmation, le point-virgule marque la fin d’une instruction.<br>
C’est une bonne habitude de laisser une espace après celui-ci.)
          </div>
        </div>
        <div class="counter">4/10</div>
      </div>
    </div>

    <div class="slide" data-step="4">
      <div class="frame">
        <img class="keyIcon" src="img/exclaim.png" alt="Grave & Tilde keys">
        <h3 class="hd">Comment utiliser cette touche : <span style="color:red;">accent grave</span> / <span style="color:red;">accent tilde</span></h3>
        <p class="sub"><span style="color:red;">!</span>+aeioun → àèìòùñ <small></small><br>
		Sinon, elle reste le symbole lui-même.</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            Papillon 1 reconnaît ces lettres comme des accents lorsqu’elles suivent un point d’exclamation. <br>
			Cependant, comme on met toujours un espace après le point d’exclamation en tant que signe de ponctuation, il n’y a jamais de conflit entre les deux cas.<br>
			(Les développeurs peuvent activer l’option développeur pour éviter tout conflit pendant la programmation.)
          </div>
        </div>
        <div class="counter">5/10</div>
      </div>
    </div>
	
    <div class="slide" data-step="5">
      <div class="frame">
        <img class="keyIcon" src="img/q.png" alt="q ligature key">
        <h3 class="hd">Comment utiliser cette touche : <span style="color:red;">accent ligature</span></h3>
        <p class="sub"><span style="color:red;">q</span>+a/o → æ/œ<br><small></small>
		Sinon, elle reste simplement q.</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            On trouve toujours un u après q — Papillon 1 ne touche jamais à qu.<br>
Ainsi, cette combinaison sert uniquement à la saisie des accents, en toute sécurité.<br>
Si la transformation n’est pas souhaitée, appuyez simplement une fois sur Retour arrière pour l’annuler immédiatement.
          </div>
        </div>
        <div class="counter">6/10</div>
      </div>
    </div>
	
    <div class="slide" data-step="6">
      <div class="frame">
        <img class="keyIcon" src="img/2.png" alt="q ligature key">
        <h3 class="hd">Des chiffres et des symboles plus pratiques</h3>
        <p class="sub">Les chiffres aussi, sans Majuscule<br><small></small>
		Ajout de symboles utiles comme « » – — •</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            Désormais, tapez les chiffres sans Majuscule même sur votre AZERTY.
          </div>
        </div>
        <div class="counter">7/10</div>
      </div>
	  <img class="layout" src="img/numkey.png" alt="five triggers">
    </div>
	
    <div class="slide" data-step="7">
      <div class="frame">
        <img class="keyIcon" src="img/dev.png" alt="q ligature key">
        <h3 class="hd">Caractères spéciaux mémorisables</h3>
        <p class="sub">Appuyez sur la touche fléchée, puis sur la touche du symbole souhaité.<br><small></small>
		Disposition selon l’initiale de chaque alias – facile à mémoriser</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            Un double appui sur la touche fléchée affichera la carte des touches.<br>
			Désormais, tapez les symboles spéciaux sans Alt Gr.
          </div>
        </div>
        <div class="counter">8/10</div>
      </div>
	  <img class="symbols2" src="img/symbols.png" alt="five triggers">
    </div>
	
    <div class="slide" data-step="8">
      <div class="frame">
        <img class="keyIcon" src="img/emoji.png" alt="q ligature key">
        <h3 class="hd">Touche emoji</h3>
        <p class="sub">Appuyez sur la touche 😀 pour ouvrir le panneau d’emojis.<br><small></small></p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            Exprimez vos émotions plus profondément avec des emojis.
          </div>
        </div>
        <div class="counter">9/10</div>
      </div>
	  <img class="emoji" src="img/emoji2.png" alt="five triggers">
    </div>
	
	
    <div class="slide" data-step="9">
      <div class="frame">
        <img class="keyIcon" src="img/tip.png" alt="semicolon trigger key">
        <h3 class="hd">Astuce pour les développeurs</h3>
        <p class="sub">Q. Papillon 1 pose-t-il des problèmes pendant le codage ?<small></small><br>
		A. Pas d’inquiétude.</p>
        <div class="rule">
          <svg class="check" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#10b981" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
          <div class="ruleText">
            Laissez toujours une espace après les virgules et les points-virgules, comme vous le feriez normalement.<br>
            Les développeurs peuvent utiliser les options développeur (ci-dessous) pour éviter tout conflit avec les accents :<br>
– Avec l’option développeur, après avoir tapé un point d’exclamation, vous pouvez entrer une espace d’échappement pour empêcher son fonctionnement comme touche d’accent.
          </div>
        </div>
        <div class="counter">10/10</div>
		<button class="tryBig" id="tryBig">Essayez maintenant</button>
      </div>
    </div>	
	

    <div class="nav">
      <button id="prev" class="btn" disabled>Précédent</button>
      <div class="dots" id="dots"></div>
      <div>
        <button id="close" class="btn" style="margin-right:8px">Fermer</button>
        <button id="next" class="btn">Suivant</button>
      </div>
    </div>

  </div>
</div>


<section id="demo">
  <div class="demoWrap">
    <div class="demoTop">
      <div class="brand">Papillon<small> L’accomplissement d’AZERTY</small></div>
    </div>

    <!-- Papillon Demo (scoped) -->
    <div id="papillonDemo" style="position:relative;">
      <!-- IO panel -->
      <div class="io" style="position:relative;max-width:1000px;margin:0 auto 14px;">
        <textarea id="ppIO" rows="3" spellcheck="false"
          style="
            width:100%;
            height:130px;
            padding:20px 24px;
            border-radius:12px;
            border:1px solid #2a3959;
            background:#111a2b;
            color:#e9eef7;
            outline:none;
            resize:vertical;
            box-shadow:0 8px 24px rgba(0,0,0,.25);
            text-align:center;
            font-size:64px;
            line-height:1.35;
            font-weight:800;
            caret-color:#6ec1ff;
          "></textarea>
      </div>

      <!-- Emoji Panel -->
      <div id="ppEmojiPanel" aria-hidden="true">
        <div id="ppEmojiGrid"><!-- JS가 버튼 48개 생성 --></div>
      </div>

      <!-- Keyboard -->
      <div class="board">
        <div class="row r1">
          <div class="key"><span class="mark BL num">🙂</span><span class="mark TR sym">²</span></div>
          <div class="key"><span class="mark BL num">1</span><span class="mark TR sym">&amp;</span></div>
          <div class="key"><span class="mark BL num">2</span><span class="mark TR sym">«</span></div>
          <div class="key"><span class="mark BL num">3</span><span class="mark TR sym">"</span></div>
          <div class="key"><span class="mark BL num">4</span><span class="mark TR sym">»</span></div>
          <div class="key"><span class="mark BL num">5</span><span class="mark TR sym">(</span></div>
          <div class="key"><span class="mark BL num">6</span><span class="mark TR sym">-</span></div>
          <div class="key"><span class="mark BL num">7</span><span class="mark TR sym">–</span></div>
          <div class="key"><span class="mark BL num">8</span><span class="mark TR sym">_</span></div>
          <div class="key"><span class="mark BL num">9</span><span class="mark TR sym">—</span></div>
          <div class="key"><span class="mark BL num">0</span><span class="mark TR sym">•</span></div>
          <div class="key"><span class="mark BL num">°</span><span class="mark TR sym">)</span></div>
          <div class="key"><span class="mark BL num">+</span><span class="mark TR sym">=</span></div>
          <div class="key bs"><span class="mark TL sym" style="left:6px;">Backspace</span></div>
        </div>

        <div class="row r2">
          <div class="key"><span class="mark TL alpha-big">A</span></span><span class="mark BR sym" style="color:#6ec1ff;">@</span></div>
          <div class="key"><span class="mark TL alpha-big">Z</span></div>
          <div class="key"><span class="mark TL alpha-big">E</span><span class="mark BR sym" style="color:#6ec1ff;">€</span></div>
          <div class="key"><span class="mark TL alpha-big">R</span></div>
          <div class="key"><span class="mark TL alpha-big">T</span><span class="mark BR sym" style="color:#6ec1ff;">~</span></div>
          <div class="key"><span class="mark TL alpha-big">Y</span></div>
          <div class="key"><span class="mark TL alpha-big">U</span></div>
          <div class="key"><span class="mark TL alpha-big">I</span></div>
          <div class="key"><span class="mark TL alpha-big">O</span></div>
          <div class="key"><span class="mark TL alpha-big">P</span><span class="mark BR sym" style="color:#6ec1ff;">|</span></div>
          <div class="key arrow"><span class="mark BL num" style="left:5px;">→</span><span class="mark TR sym">←</span><span class="mark BR sym" style="color:#6ec1ff; right:6px;">Gr</span></div>
          <div class="key"><span class="mark BL sym">$</span><span class="mark TR sym">£</span></div>
          <div class="key wide" id="enter"><span class="mark TL sym">Enter</span></div>
        </div>

        <div class="row r3">
          <div class="key"><span class="mark TL alpha-big">Q</span><span class="mark TR sym" style="color:#ff5555;">e</span></div>
          <div class="key"><span class="mark TL alpha-big">S</span><span class="mark BR sym" style="color:#6ec1ff;">[</span></div>
          <div class="key"><span class="mark TL alpha-big">D</span><span class="mark BR sym" style="color:#6ec1ff;">]</span></div>
          <div class="key"><span class="mark TL alpha-big">F</span></div>
          <div class="key"><span class="mark TL alpha-big">G</span></div>
          <div class="key"><span class="mark TL alpha-big">H</span><span class="mark BR sym" style="color:#6ec1ff;">#</span></div>
          <div class="key"><span class="mark TL alpha-big">J</span></div>
          <div class="key"><span class="mark TL alpha-big">K</span></div>
          <div class="key"><span class="mark TL alpha-big">L</span><span class="mark BR sym" style="color:#6ec1ff;"><</span></div>
          <div class="key"><span class="mark TL alpha-big">M</span><span class="mark BR sym" style="color:#6ec1ff;">></span></div>
          <div class="key"><span class="mark BL sym" style="font-size:28px;">'</span><span class="mark TR sym">%</span></div>
          <div class="key"><span class="mark BL sym" style="font-size:28px;">*</span><span class="mark TR sym">μ</span></div>
        </div>

        <div class="row r4">
          <div class="key wide" id="shiftL"><span class="mark TL sym">Shift</span></div>
          <div class="key"><span class="mark TL alpha-big">W</span></div>
          <div class="key"><span class="mark TL alpha-big">X</span></div>
          <div class="key"><span class="mark TL alpha-big">C</span><span class="mark BR sym" style="color:#6ec1ff;">{</span></div>
          <div class="key"><span class="mark TL alpha-big">V</span><span class="mark BR sym" style="color:#6ec1ff;">}</span></div>
          <div class="key"><span class="mark TL alpha-big">B</span><span class="mark BR sym" style="color:#6ec1ff;">&#8726;</span></div>
          <div class="key"><span class="mark TL alpha-big">N</span></div>

          <div class="key">
            <span class="mark BL alpha-big">,</span>
            <span class="mark TR sym">?</span>
            <span class="mark TL accent">´</span>
          </div>

          <div class="key">
            <span class="mark BL alpha-big">;</span>
            <span class="mark TR sym">:</span>
            <span class="mark BR accent">¸</span>
            <span class="mark TL accent">ˆ</span>
          </div>

          <div class="key">
            <span class="mark BL alpha-big">.</span>
            <span class="mark TR sym">/</span>
            <span class="mark TL accent">¨</span>
            <span class="mark BR sym" style="color:#6ec1ff;">·</span>
          </div>

          <div class="key">
            <span class="mark BL alpha-big">!</span>
            <span class="mark TR sym">§</span>
            <span class="mark TL accent">`</span>
          </div>

          <div class="key wide" id="shiftR"><span class="mark TL sym">Shift</span></div>
        </div>

        <div class="row" style="justify-content:center;">
          <div class="key space"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scoped styles for Papillon Demo -->
  <style>
    #papillonDemo{
      --bg:#0b1220;
      --panel:#111a2b;
      --key:#22324a;
      --key-hover:#3b5188;
      --key-border:#2a3959;
      --txt:#e9eef7;
      --muted:#a8b6cf;
      --arrow:#6ec1ff;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --r1-offset:-3px; --r2-offset:90px; --r3-offset:70px; --r4-offset:0px;
      --shiftL-w:152px; --shiftR-w:130px; --enter-w:72px;
      --enter-x:0px; --shiftR-x:0px;
      --big-hand: url('img/hand_big.png') 50 8, auto;
      --emoji-pad-x: 3.5%;
      --emoji-pad-top: 6.5%;
      --emoji-pad-bottom: 7%;
      color:var(--txt);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, Noto Sans KR, Pretendard, Arial, sans-serif;
    }
    /* 강제 손가락 커서 */
    #papillonDemo, #papillonDemo .board, #papillonDemo .row, #papillonDemo .key { cursor: var(--big-hand) !important; }

    #papillonDemo .board{background:var(--panel); border:1px solid var(--key-border); border-radius:18px; box-shadow:var(--shadow); padding:18px; position:relative; top:9px; display:flex; flex-direction:column; align-items:center;}
    #papillonDemo .row{display:flex; gap:8px; margin:6px 0; position:relative; justify-content:center}
    #papillonDemo .row.r1{margin-left:var(--r1-offset)}
    #papillonDemo .row.r2{margin-left:var(--r2-offset)}
    #papillonDemo .row.r3{margin-left:var(--r3-offset)}
    #papillonDemo .row.r4{margin-left:var(--r4-offset)}
    #papillonDemo .key{position:relative; min-width:58px; height:64px; border-radius:12px; border:1px solid var(--key-border); background:var(--key); box-shadow:inset 0 -2px 0 rgba(255,255,255,.04); transition:background .08s ease, box-shadow .08s ease, transform .08s}
    #papillonDemo .key:hover{background:var(--key-hover); box-shadow:0 0 0 2px rgba(255,255,255,.08), 0 10px 28px rgba(0,0,0,.35)}
    #papillonDemo .key:active{transform:translateY(1px)}
    #papillonDemo .key.wide{min-width:72px}
    #papillonDemo .key.bs{min-width:102px}
    #papillonDemo .key.space{min-width:360px; align-self:center;}
    #papillonDemo .key.arrow:hover{filter:brightness(1.4)}
    #papillonDemo .accent { color:#ff5555; font-weight:900; font-size:54px; }
    #papillonDemo #shiftL{width:var(--shiftL-w)}
    #papillonDemo #shiftR{width:var(--shiftR-w); margin-left:var(--shiftR-x);}
    #papillonDemo #enter{width:var(--enter-w); margin-left:var(--enter-x);}
    #papillonDemo .mark{position:absolute; line-height:1; font-weight:900; letter-spacing:.1px; pointer-events:none;}
    #papillonDemo .mark.BR.accent { bottom:18px; }
    #papillonDemo .TL{top:6px; left:8px;}
    #papillonDemo .TR{top:6px; right:8px; text-align:right}
    #papillonDemo .BL{bottom:6px; left:8px;}
    #papillonDemo .BR{bottom:6px; right:8px; text-align:right}
    #papillonDemo .alpha-big{font-size:26px}
    #papillonDemo .num{font-size:22px}
    #papillonDemo .sym{font-size:18px; opacity:.95}

    /* Emoji Panel (scoped) */
    #ppEmojiPanel{
      position:absolute; z-index:50;
      left:50%; transform:translateX(-50%);
      top:260px;
      background:#fff;
      border:1px solid rgba(255,255,255,.12);
      border-radius:12px;
      padding:12px;
      box-shadow:0 8px 26px rgba(0,0,0,.35);
      display:none;
      font-family:"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif;
    }
    #ppEmojiPanel.show{ display:block; }
    #ppEmojiGrid{
      display:grid;
      grid-template-columns:repeat(8, 44px);
      gap:6px;
      justify-items:center;
      align-items:center;
      font-family:"Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",sans-serif;
    }
    #ppEmojiGrid .emojiBtn{
      border:0; background:none; width:32px; height:32px;
      font-size:28px; line-height:1; cursor:pointer;
      padding:0; border-radius:8px;
    }
	#papillonDemo #ppIO{
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
               "Apple SD Gothic Neo", "Noto Sans KR", Pretendard, Arial, sans-serif;
}

  </style>

  <!-- Scoped script for Papillon Demo -->
  <script>
  (function () {
    const io = document.getElementById('ppIO');
    if (!io) return;

    let shift = false;
    let emojiOpen = false;

    const $panel = document.getElementById('ppEmojiPanel');
    const $grid  = document.getElementById('ppEmojiGrid');

    const EMOJIS = Array.from('😀😁😂🤣😃😄😅😉😊😍😘😜🤔🤗🤩🥳😎😭😡🧡💔💢💦👍🙏✨🔥💯✅❌🌟🎉🎁📌🍔☕🚗✈🏡🏬※©®™👈👉👆👇');

    function buildEmojiGrid(){
      if (!$grid || $grid.childElementCount) return;
      EMOJIS.forEach((em)=>{
        const btn = document.createElement('button');
        btn.className = 'emojiBtn';
        btn.type = 'button';
        btn.textContent = em;
        btn.addEventListener('click', ()=>{
          let v = io.value;
          const s = io.selectionStart, e = io.selectionEnd;
          const last = v.lastIndexOf('🙂');
          if (last !== -1){
            v = v.slice(0, last) + em + v.slice(last + 2);
            io.value = v;
            const caret = last + em.length;
            io.selectionStart = io.selectionEnd = caret;
          } else {
            io.value = v.slice(0, s) + em + v.slice(e);
            const caret = s + em.length;
            io.selectionStart = io.selectionEnd = caret;
          }
          closeEmojiPanel(); io.focus();
        });
        $grid.appendChild(btn);
      });
    }
    function openEmojiPanel(){ if(!$panel) return; buildEmojiGrid(); $panel.classList.add('show'); $panel.setAttribute('aria-hidden','false'); emojiOpen = true; }
    function closeEmojiPanel(){ if(!$panel) return; $panel.classList.remove('show'); $panel.setAttribute('aria-hidden','true'); emojiOpen = false; }
    document.addEventListener('keydown', ()=>{ if (emojiOpen) closeEmojiPanel(); });

    const mapDev = { a:'@', e:'€', t:'~', p:'|', s:'[', d:']', h:'#', c:'{', v:'}', b:'\\', l:'<', m:'>', ';':'^', '!':'`', '.':'·' };
    const mapLigE = { 'o':'œ','O':'Œ', 'a':'æ','A':'Æ' };
    const mapAcute = {'a':'á','e':'é','i':'í','o':'ó','u':'ú','y':'ý','A':'Á','E':'É','I':'Í','O':'Ó','U':'Ú','Y':'Ý','c':'ć','C':'Ć','n':'ń','N':'Ń','s':'ś','S':'Ś','z':'ź','Z':'Ź','r':'ŕ','R':'Ŕ','l':'ĺ','L':'Ĺ','w':'ẃ','W':'Ẃ','g':'ǵ','G':'Ǵ','k':'ḱ','K':'Ḱ','m':'ḿ','M':'Ḿ','p':'ṕ','P':'Ṕ'};
    const mapGrave = {'a':'à','e':'è','i':'ì','o':'ò','u':'ù','A':'À','E':'È','I':'Ì','O':'Ò','U':'Ù'};
    const mapCirc  = {'a':'â','e':'ê','i':'î','o':'ô','u':'û','y':'ŷ','A':'Â','E':'Ê','I':'Î','O':'Ô','U':'Û','Y':'Ŷ'};
    const maptrema = {'a':'ä','e':'ë','i':'ï','o':'ö','u':'ü','y':'ÿ','A':'Ä','E':'Ë','I':'Ï','O':'Ö','U':'Ü','Y':'Ÿ'};
    const mapcedil = {'c':'ç','C':'Ç','s':'ş','S':'Ş','t':'ţ','T':'Ţ','g':'ģ','G':'Ģ','k':'ķ','K':'Ķ','l':'ļ','L':'Ļ','n':'ņ','N':'Ņ','r':'ŗ','R':'Ŗ','d':'ḑ','D':'Ḑ','h':'ḩ','H':'Ḩ'};
    const mapTilde = {'a':'ã','A':'Ã','o':'õ','O':'Õ','e':'ẽ','E':'Ẽ','i':'ĩ','I':'Ĩ','u':'ũ','U':'Ũ','n':'ñ','N':'Ñ'};

    function insert(text){
      const s = io.selectionStart, e = io.selectionEnd, v = io.value;

      if (s === e && s > 0 && v[s-1] === '→' && text.length === 1 && mapDev[text] !== undefined){
        io.value = v.slice(0, s-1) + mapDev[text] + v.slice(e);
        const caret = (s - 1) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
      }
      if (s === e && s > 0 && (v[s-1] === 'q' || v[s-1] === 'Q') && text.length === 1 && mapLigE[text]){
        io.value = v.slice(0, s-1) + mapLigE[text] + v.slice(e);
        const caret = (s - 1) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
      }
      if (s === e && s > 0 && v[s-1] === ',' && text.length === 1 && mapAcute[text]){
        io.value = v.slice(0, s-1) + mapAcute[text] + v.slice(e);
        const caret = (s - 1) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
      }
      if (s === e && s > 0 && v[s-1] === ';' && text.length === 1){
        let mapped = null;
        if (mapCirc[text]) mapped = mapCirc[text];
        else if (mapcedil[text]) mapped = mapcedil[text];
        if (mapped){
          io.value = v.slice(0, s-1) + mapped + v.slice(e);
          const caret = (s - 1) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
        }
      }
      if (s === e && s > 1 && v.slice(s-2, s) === '..' && text.length === 1 && maptrema[text]){
        io.value = v.slice(0, s-2) + maptrema[text] + v.slice(e);
        const caret = (s - 2) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
      }
      if (s === e && s > 1 && v.slice(s-2, s) === '!!' && text.length === 1 && mapTilde[text]){
        io.value = v.slice(0, s-2) + mapTilde[text] + v.slice(e);
        const caret = (s - 2) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
      }
      if (s === e && s > 0 && v[s-1] === '!' && text.length === 1){
        let mapped = null;
        if ((text === 'n' || text === 'N') && mapTilde[text]) mapped = mapTilde[text];
        else if (mapGrave[text]) mapped = mapGrave[text];
        if (mapped){
          io.value = v.slice(0, s-1) + mapped + v.slice(e);
          const caret = (s - 1) + 1; io.selectionStart = io.selectionEnd = caret; io.focus(); return;
        }
      }

      io.value = v.slice(0, s) + text + v.slice(e);
      const caret = s + text.length;
      io.selectionStart = io.selectionEnd = caret;
      io.focus();
    }

    function backspace(){
      const s = io.selectionStart, e = io.selectionEnd, v = io.value;
      if (s !== e){
        io.value = v.slice(0,s) + v.slice(e);
        io.selectionStart = io.selectionEnd = s;
      } else if (s>0){
        io.value = v.slice(0,s-1) + v.slice(e);
        io.selectionStart = io.selectionEnd = s-1;
      }
      io.focus();
    }
    function moveCaret(dx){
      let c = io.selectionStart + dx;
      c = Math.max(0, Math.min(io.value.length, c));
      io.selectionStart = io.selectionEnd = c;
      io.focus();
    }

    function getPrimaryChar(keyEl){
      if (keyEl.classList.contains('space')) return ' ';
      if (keyEl.id === 'enter') return '\\n';
      if (keyEl.id === 'shiftL' || keyEl.id === 'shiftR') return '{SHIFT}';
      if (keyEl.classList.contains('bs') || keyEl.textContent.trim().toLowerCase().includes('backspace')) return '{BS}';
      if (keyEl.classList.contains('arrow')){
        const bl = keyEl.querySelector('.mark.BL');
        const tr = keyEl.querySelector('.mark.TR');
        if (shift && tr) return tr.textContent.trim();
        if (bl) return bl.textContent.trim();
      }
      const bl = keyEl.querySelector('.mark.BL');
      const tl = keyEl.querySelector('.mark.TL');
      const tr = keyEl.querySelector('.mark.TR');
      const base = (bl?.textContent || tl?.textContent || '').trim();
      const shifted = (tr?.textContent || '').trim();
      if (shift && shifted) return shifted;
      if (/^[A-Z]$/i.test(base)) return shift ? base.toUpperCase() : base.toLowerCase();
      return base;
    }

    document.querySelector('#papillonDemo .board')?.addEventListener('click', (ev)=>{
      const key = ev.target.closest('.key');
      if (!key) return;
      const out = getPrimaryChar(key);
      if (out === '🙂'){ openEmojiPanel(); }
      if (out === '{SHIFT}'){ shift = !shift; key.classList.toggle('shift-on', shift); return; }
      if (out === '{BS}'){ backspace(); return; }
      if (out === '{ARROW}'){
        const rect = key.getBoundingClientRect();
        const left = ev.clientX < (rect.left + rect.width/2);
        moveCaret(left ? -1 : +1);
        return;
      }
      if (!out) return;
      insert(out);
      if (emojiOpen && out !== '🙂') closeEmojiPanel();
      if (shift){
        shift = false;
        document.getElementById('shiftL')?.classList.remove('shift-on');
        document.getElementById('shiftR')?.classList.remove('shift-on');
      }
    });

    io.focus();
  })();
  </script>
</section>


<script>
// Modal & navigation
const heroBtn=document.getElementById('heroBtn');
const modal=document.getElementById('modal');
const slides=[...document.querySelectorAll('.slide')];
const prev=document.getElementById('prev');
const next=document.getElementById('next');
const closeBtn=document.getElementById('close');
const dots=document.getElementById('dots');
const tryBig=document.getElementById('tryBig');
const demo=document.getElementById('demo');

function openModal(){document.body.style.overflow='hidden';modal.classList.add('on');show(0);}
function closeModal(){modal.classList.remove('on');document.body.style.overflow='';}
function openDemo(){closeModal();demo.style.display='block';window.scrollTo({top:demo.offsetTop,behavior:'smooth'}); localStorage.setItem('uq_seen_tutorial', '1'); }

heroBtn.addEventListener('click',openModal);
document.addEventListener('keydown', (e) => {
  // 🔒 입력 필드/에디터 안이면 전역 단축키 비활성화
  const tag = (e.target?.tagName || '').toLowerCase();
  const isEditable = e.target?.isContentEditable || tag === 'textarea' || tag === 'input' || tag === 'select';
  if (isEditable) return;

  if (e.key === 'Enter' && !modal.classList.contains('on')) {
    e.preventDefault();
    if (window.UQ_IS_SEEN) {
      window.scrollTo({ top: demo.offsetTop, behavior: 'smooth' });
    } else {
      openModal();
    }
    return;
  }

  if (modal.classList.contains('on')) {
    if (e.key === 'Enter')      { e.preventDefault(); if (i < slides.length - 1) show(i + 1); else openDemo(); }
    if (e.key === 'ArrowLeft')  { e.preventDefault(); show(i - 1); }
    if (e.key === 'ArrowRight') { e.preventDefault(); if (i < slides.length - 1) show(i + 1); else openDemo(); }
    if (e.key === 'Escape')     { e.preventDefault(); closeModal(); }
  }
});

if(tryBig) tryBig.addEventListener('click',openDemo);

let i=0;
function renderDots(){dots.innerHTML=''; for(let k=0;k<slides.length;k++){const d=document.createElement('div');d.className='dot'+(k===i?' on':'');dots.appendChild(d);}}
function show(n){i=Math.max(0,Math.min(slides.length-1,n));slides.forEach((el,idx)=>el.classList.toggle('on',idx===i));prev.disabled=(i===0);next.disabled=(i===slides.length-1);renderDots();}
prev.addEventListener('click',()=>show(i-1));
next.addEventListener('click',()=>show(i+1));
closeBtn.addEventListener('click',closeModal);

// 기존 즉시실행 함수 전체 교체
(function(){
  const SEEN_KEY = 'uq_seen_tutorial';
  const seen = localStorage.getItem(SEEN_KEY) === '1';
  const btn = document.getElementById('heroBtn');

  window.UQ_IS_SEEN = seen;

  // 버튼 라벨 고정
  btn.textContent = 'En savoir plus';

  if (seen) {
    demo.style.display = 'block';
    document.body.style.overflow = '';   // 혹시 잠겨있으면 해제
    btn.onclick = () => {
      window.scrollTo({ top: demo.offsetTop, behavior: 'smooth' });
    };
  } else {
  document.body.style.overflow = 'hidden';
  btn.onclick = openModal;
  }
})();


</script>


<script>
// After original logic loads, clear any prefilled demo hints
window.addEventListener('load', function(){
  var ta = document.getElementById('pad');
  if(ta) ta.value = "";
});
</script>

<!-- ===== Reviews: Accents Libres (copied style) ===== -->
<section id="reviews" style="background:#f3f1e7; padding:64px 0; font-family:var(--ui-font);">
  <h2 style="text-align:center; font-size:42px; margin:0 0 12px; color:#000;">Votre AZERTY renaît en Papillon.</h2>
  <p style="text-align:center; font-size:26px; margin:0 0 28px; line-height:1.6; color:#333;">
    
  </p>


</section>

<script>
(function(){
  const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwTzh_MjFPGovDhjDg5RTImE4g7HljZDDmNxZJ3giOZhkLhxDSaPhmqdhaM3SIMgSWluA/exec';
  const $reviewsSec = document.getElementById('reviews');
  const $form  = document.getElementById('reviewForm');
  const $name  = document.getElementById('rvName');
  const $text  = document.getElementById('rvText');
  const $stars = document.getElementById('rvStars');
  let   $list  = document.getElementById('rvList') || document.getElementById('reviewList') || ($reviewsSec && $reviewsSec.querySelector('ul'));

  if (!$list && $reviewsSec) {
    $list = document.createElement('ul');
    $list.id = 'reviewList';
    $list.style.listStyle='none';
    $list.style.padding='0';
    $list.style.margin='0';
    $list.style.display='grid';
    $list.style.gap='12px';
    $reviewsSec.appendChild($list);
  }

  if (!$reviewsSec || !$form || !$stars || !$list) return;

  let starVal = 0;
  function renderStars(v){
    $stars.innerHTML='';
    for(let i=1;i<=5;i++){
      const s=document.createElement('span');
      s.textContent=i<=v?'★':'☆';
      s.style.color=i<=v?'#f7b500':'#ccc';
      s.style.fontSize='20px';
      s.style.marginLeft=i===1?'0':'2px';
      s.dataset.v=i;
      $stars.appendChild(s);
    }
  }
  $stars.addEventListener('mousemove',e=>{const t=e.target.closest('span'); if(t) renderStars(+t.dataset.v);});
  $stars.addEventListener('mouseleave',()=>renderStars(starVal||0));
  $stars.addEventListener('click',e=>{const t=e.target.closest('span'); if(!t) return; starVal=+t.dataset.v; renderStars(starVal);});
  renderStars(0);

  function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
  function cardHTML(it){
    const st=Math.max(0,Math.min(5,parseInt(it.stars||'0',10)||0));
    const star='★'.repeat(st)+'☆'.repeat(5-st);
    const name=it.name||'Anonyme';
    const text=it.text||'';
    return `<div style="background:#f3f1e7;border-radius:14px;padding:18px;">
              <div style="color:#f7b500;font-size:18px;line-height:1">${star}</div>
              <div style="font-size:18px;margin-top:6px;color:#000">${escapeHtml(text)}</div>
              <div style="font-size:14px;color:#777;margin-top:8px">— ${escapeHtml(name)}</div>
            </div>`;
  }

  window.__onReviews = function(arr){
    try{
      const ordered=Array.isArray(arr)?arr.slice().reverse():[];
      $list.innerHTML = ordered.map(cardHTML).join('');
      if (window.setReviewCount) window.setReviewCount(ordered.length);
    }catch(e){}
  };

  function loadReviewsJSONP(){
    const s=document.createElement('script');
    s.src = SCRIPT_URL + '?n=20&callback=__onReviews&ts=' + Date.now();
    document.head.appendChild(s);
  }
  if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', loadReviewsJSONP);
} else {
  loadReviewsJSONP();
}


  $form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    if (document.getElementById('rvHoney')?.value) return;
    const name=($name&&$name.value||'').trim()||'Anonyme';
    const text=($text&&$text.value||'').trim();
    if(!starVal){alert('Choisissez une note.');return;}
    if(!text){alert('Saisissez votre avis.');return;}
    const item={name, stars:starVal, text};
    $list.insertAdjacentHTML('afterbegin', cardHTML(item));
    try{
      await fetch(SCRIPT_URL, { method: 'POST', headers: { 'Content-Type': 'text/plain;charset=utf-8' }, body: JSON.stringify(item) });

      setTimeout(loadReviewsJSONP, 1200);
    }catch(e){}
    if($name) $name.value='';
    if($text) $text.value='';
    starVal=0; renderStars(0);
  });
})();
</script>

<style>
  /* Dock styles */
  #reviewsDock{
    max-width:1120px; margin:10px auto 4px;
    display:flex; justify-content:center; align-items:center;
  }
  #reviewsCue{
    position:relative;
    padding:8px 14px; border-radius:999px;
    background:rgba(0,0,0,.65); color:#fff;
    font:600 14px var(--ui-font);
    display:flex; align-items:center; gap:8px;
    cursor:pointer; pointer-events:auto;
    backdrop-filter:saturate(1.2) blur(2px);
    box-shadow:0 4px 10px rgba(0,0,0,.25);
  }
  #reviewsCue .chev{font-size:14px; line-height:1;}
</style>
<script>
(function(){
  const reviews = document.getElementById('reviews');
  const demoWrap = document.querySelector('.demoWrap');
  if(!reviews || !demoWrap) return;

  // remove existing cue if any
  document.getElementById('reviewsCue')?.remove();
  document.getElementById('reviewsDock')?.remove();

  const dock = document.createElement('div');
  dock.id = 'reviewsDock';
  dock.style.cssText = 'max-width:1120px;margin:16px auto 34px;display:flex;justify-content:center;';
  

  // insert after demoWrap
  demoWrap.parentNode.insertBefore(dock, demoWrap.nextSibling);

  window.setReviewCount = function(n){
    const el = document.getElementById('rvCueText');
    if (el) el.textContent = n ? `View Reviews (${n})` : 'Voir les avis';
  };
})();
</script>
<footer style="
  background:#f2f0e6;
  padding:28px 0;
  font-family:var(--ui-font);
  text-align:center;
  font-size:15px;
  color:#555;
  border-top:1px solid #ddd;
">
  <div>Capstary © 2025</div>
  <div style="margin-top:6px;">
    Contact : <a href="mailto:contact@Capstary.com" style="color:#333;text-decoration:none;">contact@Capstary.com</a>
  </div>
</footer>
</body>
</html>
<style>
@media (max-width: 768px){
  /* HERO 영역: 이미지 잘림 방지 */
  .hero{ min-height:auto; padding:16px 0; display:flex; flex-direction:column; align-items:center; }
  .hero img{
    position:static !important;   /* 절대배치 해제 */
    inset:auto !important;
    width:100% !important;
    height:auto !important;
    object-fit:contain !important; /* 잘림 없이 축소 */
    object-position:center top !important;
    max-height:70vh;               /* 화면 넘치지 않게 */
  }
  /* 버튼은 이미지 아래로 */
  .hero .enter{
    position:static !important;
    margin-top:12px;
    padding:12px 20px;
    font-size:16px;
  }
}
</style>
<style>
/* iOS가 글자 크기 임의 확대하는 것 방지 */
html, body { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }

@media (max-width: 768px){
  /* 모달 컨테이너: 높이 제한 + 스크롤 가능 */
  .modal{ align-items:flex-start; }
  .sheet{ width:96vw; max-height:90vh; border-radius:12px; overflow:auto; }

  /* 공통 슬라이드: 고정 16:9 비율 제거 */
  .slide{ aspect-ratio:auto; height:auto; }

  /* 1번 슬라이드(제목+불릿+키 이미지) - 절대배치 해제 */
  .s1-wrap{ padding:16px !important; }
  .s1-wrap .title1,
  .s1-wrap .bullets,
  .s1-wrap .keysRow,
  .s1-wrap .stepno{
    position:static !important; left:auto !important; top:auto !important; bottom:auto !important;
  }
  .s1-wrap .title1{ font-size:24px !important; line-height:1.2; margin:0 0 8px; text-align:center; }
  .s1-wrap .bullets{ font-size:16px !important; line-height:1.5; text-align:left; margin:0 0 12px; }
  .s1-wrap .keysRow{ width:100% !important; max-width:none !important; margin:8px 0 6px; }
  .s1-wrap .stepno{ font-size:12px; text-align:center; color:#777; }

  /* 2~6번 공통 레이아웃 단순화 */
  .frame{ display:block !important; padding:16px !important; }
  .keyIcon{ width:96px; height:auto; display:block; margin:0 auto 10px; }
  .hd{ font-size:20px !important; text-align:center; margin:0 0 6px; }
  .sub{ font-size:16px !important; text-align:center; margin:0 0 10px; }
  .rule{ display:grid; grid-template-columns:36px 1fr; gap:12px; margin-top:10px; }
  .ruleText{ font-size:15px !important; line-height:1.5; }

  /* 6/6 버튼: 고정 위치 해제 → 항상 보이게 */
  .tryBig{
    position:static !important;
    display:block !important;
    width:100% !important;
    margin:16px 0 0 !important;
    padding:14px 0 !important;
    font-size:18px !important;
  }

  /* 하단 네비 버튼 터치 충돌 방지(위 요소가 덮는 것 차단) */
  .nav{ position:sticky; bottom:0; z-index:2; }
}
</style>



<script>
(function(){
  const SEEN = window.UQ_IS_SEEN === true || localStorage.getItem('uq_seen_tutorial') === '1';
  const demo = document.getElementById('demo');
  const reviews = document.getElementById('reviews');
  if (!SEEN || !demo || !reviews) return;

  window.addEventListener('load', () => {
    let snapping = false;
    let idleTO = null;
    let lastInteractAt = 0;

    const hero = document.querySelector('.hero');

    function anchorPos(el){ return el ? el.offsetTop : 0; }
    function heroBottom(){
      return hero ? (hero.offsetTop + hero.offsetHeight) : 0;
    }

    function getAnchors(){
      const demoTop = anchorPos(demo);
      const revTop  = anchorPos(reviews);
      return { demoTop, revTop };
    }

    // Only decide to snap when user STOPS interacting for a short moment.
    function nudgeSnapSoon(delay=140){
      if (snapping) return;
      if (idleTO) clearTimeout(idleTO);
      idleTO = setTimeout(checkAndSnap, delay);
    }
    function checkAndSnap(){
      const y  = window.scrollY || window.pageYOffset;
      const vh = window.innerHeight || 0;
      const { demoTop, revTop } = getAnchors();

	// ✅ 리뷰 섹션부터는 스냅 비활성화 (여유 60px 버퍼)
	if (y >= revTop - 60) return;

      // If still actively interacting very recently, skip.
      if (Date.now() - lastInteractAt < 80) return;

      const near = (target)=> Math.abs(y - target) <= vh * 0.35;

      const isNearDemo = near(demoTop);
      const isNearRev  = near(revTop);

      // If in between and not near either, do nothing.
      if (!isNearDemo && !isNearRev) return;

      // Choose nearest target.
      const target = (Math.abs(y - demoTop) <= Math.abs(y - revTop)) ? demoTop : revTop;

      // If already basically there, skip.
      if (Math.abs(y - target) < 6) return;

      doSnap(target);
    }

    function doSnap(targetY){
      snapping = true;
      window.scrollTo({ top: targetY, behavior: 'smooth' });
      // Release after motion
      const release = () => { snapping = false; window.removeEventListener('scroll', onDuringSnap); };
      let checks = 0;
      const onDuringSnap = () => {
        const y = window.scrollY || window.pageYOffset;
        if (Math.abs(y - targetY) < 2 || checks++ > 24) release();
      };
      window.addEventListener('scroll', onDuringSnap);
      setTimeout(release, 600);
    }

    function markInteract(){
      lastInteractAt = Date.now();
    }
    window.addEventListener('wheel',   () => { markInteract(); nudgeSnapSoon(160); }, { passive:true });
    window.addEventListener('touchmove', markInteract, { passive:true });
    window.addEventListener('touchend',  () => { markInteract(); nudgeSnapSoon(140); }, { passive:true });

    window.addEventListener('keydown', (e) => {
      // Arrow/PageUp/PageDown/Space/Home/End typical scroll keys
      const keys = ['ArrowDown','ArrowUp','PageDown','PageUp','Space','Home','End'];
      if (keys.includes(e.code) || keys.includes(e.key)) {
        markInteract();
        nudgeSnapSoon(180);
      }
    }, { passive:true });

    // Also run a gentle check after load if landing near anchors.
    nudgeSnapSoon(280);
  });
})();
</script>

<script>
// ? ↔ / 입력 스왑 (직접 주입 방식)
(() => {
  const pad = document.getElementById('pad');
  if (!pad) return;

  pad.addEventListener('keydown', (e) => {
    if (e.ctrlKey || e.metaKey || e.altKey) return;
    if (e.key !== '?' && e.key !== '/') return;

    e.preventDefault();  // 원래 입력 막고
    const swapped = (e.key === '?') ? '/' : '?';

    // 커서 위치에 직접 삽입
    const s = pad.selectionStart ?? pad.value.length;
    const epos = pad.selectionEnd ?? pad.value.length;
    const v = pad.value ?? '';
    pad.value = v.slice(0, s) + swapped + v.slice(epos);
    pad.selectionStart = pad.selectionEnd = s + 1;
    pad.dispatchEvent(new Event('input', { bubbles: true }));
  });
  pad.addEventListener('input', () => {
  if (__justTransformed) { __justTransformed = false; return; }

    if (pad.selectionStart !== pad.selectionEnd) return;
    const s = (pad.selectionStart ?? (pad.value ? pad.value.length : 0));
    if (s < 2) return;
    const v = pad.value || '';
    const tail2 = v.slice(s - 2, s);
    if (tail2 === '.:') {
      replaceRange(pad, s - 2, s, ':');
    }
  });

// === Dead-key 결과 감지 후 개발자 변환 (circumflex only) ===
pad.addEventListener('input', () => {
if (__justTransformed) { __justTransformed = false; return; }

  const v = pad.value || '';
  if (!v) return;
  const s = pad.selectionStart ?? v.length;
  const tail2 = s >= 2 ? v.slice(s - 2, s) : '';
  const tail1 = v.slice(s - 1, s);

  function replaceRange(el, from, to, text){
    const vv = el.value || '';
    el.value = vv.slice(0, from) + text + vv.slice(to);
    el.selectionStart = el.selectionEnd = from + text.length;
  }

  if (devMap[tail2]) {
  if (tail1 === 'â') replaceRange(pad, s - 1, s, '@');
    replaceRange(pad, s - 2, s, devMap[tail2]);
  } else if (devMap[tail1]) {
    replaceRange(pad, s - 1, s, devMap[tail1]);
  }
});

</script>


</body>
</html>